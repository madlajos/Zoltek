<div class="camera-settings-container">
  <table class="camera-settings-table">
    <thead>
      <tr>
        <th>Parameter</th>
        <th>Main</th>
        <th>Side</th>
      </tr>
    </thead>
    <tbody>
      <!-- Width -->
      <tr>
        <td>Width</td>
        <td><input type="text" [(ngModel)]="mainCameraSettings.Width" (blur)="applySetting('Width', 'main')" [disabled]="!isMainConnected"></td>
        <td><input type="text" [(ngModel)]="sideCameraSettings.Width" (blur)="applySetting('Width', 'side')" [disabled]="!isSideConnected"></td>
      </tr>

      <!-- Height -->
      <tr>
        <td>Height</td>
        <td><input type="text" [(ngModel)]="mainCameraSettings.Height" (blur)="applySetting('Height', 'main')" [disabled]="!isMainConnected"></td>
        <td><input type="text" [(ngModel)]="sideCameraSettings.Height" (blur)="applySetting('Height', 'side')" [disabled]="!isSideConnected"></td>
      </tr>

      <!-- OffsetX -->
      <tr>
        <td>OffsetX</td>
        <td><input type="text" [(ngModel)]="mainCameraSettings.OffsetX" (blur)="applySetting('OffsetX', 'main')" [disabled]="!isMainConnected"></td>
        <td><input type="text" [(ngModel)]="sideCameraSettings.OffsetX" (blur)="applySetting('OffsetX', 'side')" [disabled]="!isSideConnected"></td>
      </tr>

      <!-- OffsetY -->
      <tr>
        <td>OffsetY</td>
        <td><input type="text" [(ngModel)]="mainCameraSettings.OffsetY" (blur)="applySetting('OffsetY', 'main')" [disabled]="!isMainConnected"></td>
        <td><input type="text" [(ngModel)]="sideCameraSettings.OffsetY" (blur)="applySetting('OffsetY', 'side')" [disabled]="!isSideConnected"></td>
      </tr>

      <!-- ExposureTime -->
      <tr>
        <td>Exposure Time</td>
        <td><input type="text" [(ngModel)]="mainCameraSettings.ExposureTime" (blur)="applySetting('ExposureTime', 'main')" [disabled]="!isMainConnected"></td>
        <td><input type="text" [(ngModel)]="sideCameraSettings.ExposureTime" (blur)="applySetting('ExposureTime', 'side')" [disabled]="!isSideConnected"></td>
      </tr>

      <!-- Gain -->
      <tr>
        <td>Gain</td>
        <td><input type="text" [(ngModel)]="mainCameraSettings.Gain" (blur)="applySetting('Gain', 'main')" [disabled]="!isMainConnected"></td>
        <td><input type="text" [(ngModel)]="sideCameraSettings.Gain" (blur)="applySetting('Gain', 'side')" [disabled]="!isSideConnected"></td>
      </tr>

      <!-- Gamma -->
      <tr>
        <td>Gamma</td>
        <td><input type="text" [(ngModel)]="mainCameraSettings.Gamma" (blur)="applySetting('Gamma', 'main')" [disabled]="!isMainConnected"></td>
        <td><input type="text" [(ngModel)]="sideCameraSettings.Gamma" (blur)="applySetting('Gamma', 'side')" [disabled]="!isSideConnected"></td>
      </tr>

      <!-- FrameRate -->
      <tr>
        <td>Frame Rate</td>
        <td><input type="text" [(ngModel)]="mainCameraSettings.FrameRate" (blur)="applySetting('FrameRate', 'main')" [disabled]="!isMainConnected"></td>
        <td><input type="text" [(ngModel)]="sideCameraSettings.FrameRate" (blur)="applySetting('FrameRate', 'side')" [disabled]="!isSideConnected"></td>
      </tr>

      <!-- âœ… Main Camera Controls in Column 2 -->
      <!-- Controls Row -->
<tr>
  <td>Controls</td>

  <!-- ðŸ”µ Main Camera Buttons (Side-by-Side) -->
  <td>
    <div class="button-group">
      <button type="button"
              (click)="sharedService.toggleConnection('main')"
              [ngClass]="{'connect-button': true, 'connected': isMainConnected}">
        <mat-icon *ngIf="isMainConnected; else connectMainIcon">link_off</mat-icon>
        <ng-template #connectMainIcon><mat-icon>link</mat-icon></ng-template>
      </button>

      <button type="button"
              (click)="sharedService.toggleStream('main')"
              [ngClass]="{'stream-button': true, 'streaming': isMainStreaming}"
              [disabled]="!isMainConnected">
        <mat-icon *ngIf="isMainStreaming; else playMainIcon">stop</mat-icon>
        <ng-template #playMainIcon><mat-icon>play_arrow</mat-icon></ng-template>
      </button>
    </div>
  </td>

  <!-- ðŸŸ¢ Side Camera Buttons (Side-by-Side) -->
  <td>
    <div class="button-group">
      <button type="button"
              (click)="sharedService.toggleConnection('side')"
              [ngClass]="{'connect-button': true, 'connected': isSideConnected}">
        <mat-icon *ngIf="isSideConnected; else connectSideIcon">link_off</mat-icon>
        <ng-template #connectSideIcon><mat-icon>link</mat-icon></ng-template>
      </button>

      <button type="button"
        (click)="sharedService.toggleStream('side')"
        [ngClass]="{'stream-button': true, 'streaming': isSideStreaming}"
        [disabled]="!isSideConnected">
  <mat-icon *ngIf="isSideStreaming; else playSideIcon">stop</mat-icon>
  <ng-template #playSideIcon><mat-icon>play_arrow</mat-icon></ng-template>
</button>
    </div>
  </td>
</tr>

    </tbody>
  </table>
</div>
